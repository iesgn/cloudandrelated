---
layout: presentacion
title: Ciclo de vida de nuestras aplicaciones en docker
tema: white
---
<section>
  <h2>Ciclo de vida de nuestras aplicaciones en docker</h2>
  <p><strong>"Build, Ship and Run. Any application, Anywhere"</strong></p>
  <p>
    Alberto Molina Coballes, José Luis Rodríguez Rodríguez and José Domingo Muñoz Rodríguez
  </p>
  <p><small>Cloud Computing in European schools. Project: 2017-1-ES01-KA202-038471</small></p>
  <p><img src="img/UE.png" width="250px" border="0"/>
    <img src="img/iesvalleinclan.png" width="250px" border="0"/>
  </p>
  <p>
    <a href="http://creativecommons.org/licenses/by-sa/3.0/">
      <img src="img/cc_by_sa.png" width="100px" border="0"/></a>
  </p>
  <p><small>Theme by: <a href="http://lab.hakim.se/reveal-js/#/">reveal.js</a></small></p>
</section>

<section>
  <h3>Docker</h3>
  <ul>
    <li>Virtualización ligera: aprovechamos mejor el hardware y únicamente necesitamos el sistema de archivos mínimo para que funcionen los servicios.</li>
    <li>Los contenedores son autosuficientes, sólo necesitamos una imagen para crear contenedores.</li>
    <li>Una imagen Docker podríamos entenderla como <em>"un Sistema Operativo con aplicaciones instaladas"</em>.</li>
    <li>El proyecto nos ofrece es un repositorio de imágenes: <a href="https://hub.docker.com/">Registry Docker Hub</a> que nos permite gestionar imágenes.</li>
    <li>Un contenedor suele ejecutar un sólo servicio. Una aplicación suele necesitar la ejecución de varios contenedores que trabajan juntos.</li>
  </ul>
</section>
<section>
  <h3>Componentes de Docker</h3>
  <ul>
    <li><strong>Docker Engine</strong>: Es un demonio que corre sobre cualquier distribución de Linux y que expone una API externa para la gestión de imágenes y contenedores.</li>
    <li><strong>Docker Client</strong>: Es el cliente de línea de comandos (CLI) que nos permite gestionar el Docker Engine. El cliente docker se puede configurar para trabajar con con un Docker Engine local o remoto.</li>
    <li><strong>Docker Registry</strong>: La finalidad de este componente es almacenar las imágenes generadas por el Docker Engine. Nos permite distribuir nuestras imágenes. Podemos instalar un registro privado, o hacer uso de uno público como Docker Hub.</li>
  </ul>
</section>
<section>
<section>
  <h2>Ciclo de vida de nuestras aplicaciones en docker</h2>
</section>
<section>
  <h3>Paso 1:Desarrollo de nuestra aplicación</h3>
  <p>En este ejemplo vamos a desarrollar una página web que va a ser servida por un servidor web que se ejecutará en un contenedor Docker.</p>
  <p>Por lo tanto lo primero que debemos hacer es crear nuestra página web:</p>
  <pre><code data-trim data-noescape>
  $ ls public_html
  index.html
  </code></pre>
</section>
<section>
  <h3>Paso 2: Creación de la imagen Docker</h3>
  <p>Utilizando un fichero <code>Dockerfile</code> definimos como vamos a crear nuestra imagen:</p>
  <ul>
    <li>Qué imagen base vamos a utilizar.</li>
    <li>Qué paquetes vamos a usar</li>
    <li>Donde copiamos nuestro código fuente (página web)</li>
    <li>Indicamos el servicio que va a ejecutar el contenedor (servidor apache)</li>
  </ul>
</section>
<section>
  <h3>Paso 2: Creación de la imagen Docker</h3>
  <p><code>Dockerfile</code></p>
  <pre><code>
    FROM debian
    RUN apt-get update -y && apt-get install -y \
        apache2 \
        && apt-get clean && rm -rf /var/lib/apt/lists/*
    COPY ./public_html /var/www/html/
    ENTRYPOINT ["/usr/sbin/apache2ctl", "-D", "FOREGROUND"]
  </code></pre>
</section>
<section>
  <h4>Paso 2: Creación de la imagen Docker</h4>
  <p>Creamos nuestra imagen:</p>
  <pre><code>
    FROM debian
    RUN apt-get update -y && apt-get install -y \
        apache2 \
        && apt-get clean && rm -rf /var/lib/apt/lists/*
    COPY ./public_html /var/www/html/
    ENTRYPOINT ["/usr/sbin/apache2ctl", "-D", "FOREGROUND"]
  </code></pre>
  <p>Podríamos usar una imagen base con apache2 ya instalado:</p>
  <pre><code>
    FROM httpd:2.4
    COPY ./public_html /usr/local/apache2/htdocs/
  </code></pre>
</section>
</section>